# ApexQuant GUI 使用指南

## 📖 简介

ApexQuant GUI 是一个基于 Streamlit 构建的现代化 Web 界面，为量化交易系统提供直观的可视化控制面板。

## ✨ 功能特性

### 🏠 首页
- 系统概览和快速导航
- 功能介绍和新手指南
- 系统状态监控
- 最近活动记录

### 📊 策略回测
- 可视化回测参数配置
- 多种内置策略选择
- 实时回测进度显示
- 详细的性能指标展示
- 交互式资金曲线图

### ⚡ 实时模拟
- 实时行情监控
- 账户状态实时更新
- 持仓和委托管理
- 自动交易控制

### 🎨 策略管理
- 内置策略库浏览
- 策略详情查看
- 自定义策略编辑器
- 策略保存和测试

### 📈 性能分析
- 20+ 核心性能指标
- 多维度图表分析
- 交易记录查询
- 报告导出功能

### ⚙️ 系统配置
- API密钥配置
- 交易参数设置
- 风控规则配置
- 数据源管理
- 数据库备份

## 🚀 快速开始

### 1. 安装依赖

```bash
cd gui
pip install -r requirements.txt
```

### 2. 启动GUI

**Windows:**
```bash
start_gui.bat
```

**Linux/Mac:**
```bash
chmod +x start_gui.sh
./start_gui.sh
```

**或手动启动:**
```bash
streamlit run app.py
```

### 3. 访问界面

启动后，浏览器会自动打开：
```
http://localhost:8501
```

如果没有自动打开，请手动访问上述地址。

## 📋 使用流程

### 新手入门

1. **配置系统**
   - 前往"系统配置"页面
   - 配置API密钥（如需使用AI策略）
   - 设置交易参数和风控规则

2. **选择策略**
   - 前往"策略管理"页面
   - 浏览内置策略
   - 选择合适的策略

3. **运行回测**
   - 前往"策略回测"页面
   - 配置回测参数
   - 点击"开始回测"
   - 等待回测完成

4. **查看结果**
   - 在回测页面查看实时结果
   - 或前往"性能分析"页面查看详细报告
   - 查看图表和交易记录

### 进阶使用

1. **自定义策略**
   - 在"策略管理"页面编写策略代码
   - 保存并测试策略
   - 在回测中使用自定义策略

2. **实时模拟**
   - 前往"实时模拟"页面
   - 配置策略和股票池
   - 启动实时模拟交易
   - 监控实时表现

3. **性能优化**
   - 在"性能分析"页面查看详细指标
   - 分析交易记录
   - 优化策略参数
   - 重新回测验证

## 🎯 页面详解

### 策略回测页面

**回测配置区**
- 策略选择：选择预设策略
- 日期范围：设置回测的时间区间
- 初始资金：设置初始投入资金
- 股票代码：输入要回测的股票
- K线周期：选择数据粒度
- 滑点/手续费：设置交易成本

**策略参数区**
- 根据选择的策略显示不同参数
- 均线交叉：短期/长期均线周期
- RSI：RSI周期、超买/超卖线

**结果展示区**
- 核心指标：收益率、夏普比率等
- 详细指标：分类展示所有指标
- 资金曲线：可视化资产变化
- 回撤分析：展示回撤情况

### 实时模拟页面

**监控面板**
- 实时显示账户总资产
- 可用资金和持仓市值
- 今日盈亏统计

**控制面板**
- 策略选择
- 股票池配置
- 启动/暂停/停止控制

**行情展示**
- 实时股票行情
- 涨跌幅彩色标记
- 成交量/成交额

**持仓/委托**
- 当前持仓明细
- 今日委托记录
- 实时状态更新

### 性能分析页面

**指标展示**
- 收益指标：总收益、年化收益等
- 风险指标：最大回撤、波动率等
- 交易指标：胜率、盈亏比等

**图表分析**
- 资金曲线：展示资产变化趋势
- 回撤分析：识别回撤期间
- 交易分析：统计交易表现
- 月度收益：按月统计收益

**交易记录**
- 完整的交易历史
- 可按时间/股票筛选
- 支持导出Excel

### 系统配置页面

**API配置**
- DeepSeek API密钥
- Claude API密钥（可选）
- 安全提示和最佳实践

**交易配置**
- 初始资金设置
- 滑点率/手续费率
- 印花税和最低手续费

**风控配置**
- 单笔最大仓位
- 止损/止盈比例
- 日亏损限制
- 最大持仓数量

**数据源配置**
- 主数据源选择
- 备用数据源配置
- 数据源切换

**数据库配置**
- 数据库路径设置
- 自动备份开关
- 备份保留天数

## 🔧 技术栈

- **Web框架**: Streamlit 1.30+
- **数据处理**: Pandas, NumPy
- **可视化**: Plotly, Matplotlib
- **后端**: ApexQuant Python API

## 📝 注意事项

### 性能优化

1. **数据量控制**
   - 回测时间不宜过长（建议1年内）
   - 股票数量不宜过多（建议10只以内）
   - K线周期越短，数据量越大

2. **浏览器要求**
   - 建议使用Chrome/Edge/Firefox最新版本
   - 启用JavaScript
   - 关闭广告拦截器

3. **内存管理**
   - 长时间运行可能占用较多内存
   - 定期刷新页面释放内存
   - 关闭不用的标签页

### 安全建议

1. **API密钥**
   - 使用.env文件存储密钥
   - 不要将密钥提交到Git
   - 定期更换密钥

2. **数据备份**
   - 启用自动备份功能
   - 定期手动备份重要数据
   - 测试备份恢复流程

3. **访问控制**
   - 仅在本地运行（localhost）
   - 如需远程访问，使用VPN或SSH隧道
   - 不要暴露在公网

## 🐛 常见问题

### Q: GUI无法启动？
**A:** 
1. 检查Python版本（需要3.8+）
2. 确认已安装streamlit：`pip install streamlit`
3. 查看错误日志

### Q: 回测报错？
**A:** 
1. 检查股票代码格式（如：sh.600519）
2. 确认日期范围合理
3. 查看后端日志了解详情

### Q: 图表显示异常？
**A:** 
1. 刷新页面
2. 清除浏览器缓存
3. 切换到其他浏览器

### Q: 数据加载慢？
**A:** 
1. 减少回测时间范围
2. 减少股票数量
3. 使用日线数据代替分钟数据

## 📚 相关文档

- [快速启动指南](../快速启动指南.md)
- [策略开发文档](../项目功能说明.md)
- [API参考](../README.md)

## 🤝 反馈与支持

如遇到问题或有建议：
1. 查看日志文件：`logs/apexquant.log`
2. 查看GitHub Issues
3. 联系技术支持

## 📄 许可证

MIT License

---

**ApexQuant GUI** - 让量化交易更简单、更直观 🚀

